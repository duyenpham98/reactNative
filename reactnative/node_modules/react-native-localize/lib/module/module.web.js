import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{USES_FAHRENHEIT,USES_IMPERIAL,USES_RTL_LAYOUT,CURRENCIES}from"./constants";var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);function ensureCountryCode(countryCode){return countryCode==="419"?"UN":countryCode.toUpperCase();}function splitLanguageTag(languageTag){var _languageTag$split=languageTag.split("-"),_languageTag$split2=_slicedToArray(_languageTag$split,2),languageCode=_languageTag$split2[0],countryCode=_languageTag$split2[1];return{languageCode:languageCode,countryCode:countryCode};}function convertLanguageTagToLocale(languageTag,countryCodeFallback){var _splitLanguageTag=splitLanguageTag(languageTag),languageCode=_splitLanguageTag.languageCode,countryCode=_splitLanguageTag.countryCode;languageCode=languageCode.toLowerCase();countryCode=ensureCountryCode(countryCode||countryCodeFallback);return{languageCode:languageCode,countryCode:countryCode,languageTag:languageCode+"-"+countryCode,isRTL:USES_RTL_LAYOUT.includes(languageCode)};}function getCurrentLocale(){return convertLanguageTagToLocale(navigator.language,getCountry());}export function getCalendar(){return"gregorian";}export function getCountry(){var _navigator=navigator,languages=_navigator.languages;for(var i=0;i<languages.length;i++){var _splitLanguageTag2=splitLanguageTag(languages[i]),countryCode=_splitLanguageTag2.countryCode;if(countryCode){return ensureCountryCode(countryCode);}}return"US";}export function getCurrencies(){var _navigator2=navigator,languages=_navigator2.languages;var currencies=[];languages.forEach(function(language){var _splitLanguageTag3=splitLanguageTag(language),countryCode=_splitLanguageTag3.countryCode;if(countryCode){var currency=CURRENCIES[ensureCountryCode(countryCode)];if(currencies.indexOf(currency)===-1){currencies.push(currency);}}});if(currencies.length===0){currencies.push("USD");}return currencies;}export function getLocales(){var _navigator3=navigator,languages=_navigator3.languages;var countryCode=getCountry();var cache=[];var locales=[];languages.forEach(function(language){var locale=convertLanguageTagToLocale(language,countryCode);if(cache.indexOf(locale.languageTag)===-1){locales.push(locale);cache.push(locale.languageTag);}});return locales;}export function getNumberFormatSettings(){var _getCurrentLocale=getCurrentLocale(),languageTag=_getCurrentLocale.languageTag;var formatter=new Intl.NumberFormat(languageTag);var separators=_toConsumableArray(formatter.format(1000000.1).replace(/\d/g,""));return{decimalSeparator:separators[separators.length-1],groupingSeparator:separators[0]};}export function getTemperatureUnit(){return USES_FAHRENHEIT.includes(getCountry())?"fahrenheit":"celsius";}export function getTimeZone(){var _getCurrentLocale2=getCurrentLocale(),languageTag=_getCurrentLocale2.languageTag;var formatter=new Intl.DateTimeFormat(languageTag,{hour:"numeric"});return formatter.resolvedOptions().timeZone||"Etc/UTC";}export function uses24HourClock(){var _getCurrentLocale3=getCurrentLocale(),languageTag=_getCurrentLocale3.languageTag;var formatter=new Intl.DateTimeFormat(languageTag,{hour:"numeric"});return!formatter.format(new Date(2000,0,1,20)).match(/am|pm/i);}export function usesMetricSystem(){return!USES_IMPERIAL.includes(getCountry());}export function usesAutoDateAndTime(){}export function usesAutoTimeZone(){}export var handlers=new Set();if(canUseDOM){window.addEventListener("languagechange",function(){handlers.forEach(function(handler){return handler();});});}
//# sourceMappingURL=module.web.js.map